# üöÄ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ –≤ PyCharm (Windows + Docker)

## –ß–∞—Å—Ç—å 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞

### 1.1 –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–≥–æ –ü–û

1. **Python 3.11** - —Å–∫–∞—á–∞–π—Ç–µ —Å python.org
2. **Docker Desktop** - —Å–∫–∞—á–∞–π—Ç–µ —Å docker.com
3. **PyCharm Professional** (–∏–ª–∏ Community)

### 1.2 –ó–∞–ø—É—Å–∫ Docker Desktop

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ Docker —Ä–∞–±–æ—Ç–∞–µ—Ç:
docker --version
docker-compose --version
```

---

## –ß–∞—Å—Ç—å 2: –û—Ç–∫—Ä—ã—Ç–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –≤ PyCharm

### –®–∞–≥ 1: –û—Ç–∫—Ä—ã—Ç—å –ø—Ä–æ–µ–∫—Ç

1. `File` ‚Üí `Open`
2. –í—ã–±–µ—Ä–∏—Ç–µ –ø–∞–ø–∫—É `sber-auto-ml`
3. –ù–∞–∂–º–∏—Ç–µ `OK`

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–∞ Python

**–í–∞—Ä–∏–∞–Ω—Ç A: –õ–æ–∫–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä**

1. `File` ‚Üí `Settings` ‚Üí `Project: sber-auto-ml` ‚Üí `Python Interpreter`
2. –ù–∞–∂–º–∏—Ç–µ —à–µ—Å—Ç–µ—Ä—ë–Ω–∫—É ‚Üí `Add`
3. –í—ã–±–µ—Ä–∏—Ç–µ `Virtualenv Environment` ‚Üí `New`
4. Location: `./venv`
5. Base interpreter: `python3.11`
6. –ù–∞–∂–º–∏—Ç–µ `OK`

**–í–∞—Ä–∏–∞–Ω—Ç B: Docker –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**

1. `File` ‚Üí `Settings` ‚Üí `Build, Execution, Deployment` ‚Üí `Docker`
2. –ù–∞–∂–º–∏—Ç–µ `+` ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ `Docker Desktop`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ (–¥–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å `Connection successful`)
4. `Settings` ‚Üí `Project` ‚Üí `Python Interpreter`
5. –ù–∞–∂–º–∏—Ç–µ `Add` ‚Üí `Docker Compose`
6. –í—ã–±–µ—Ä–∏—Ç–µ `docker-compose.yml` –∏ —Å–µ—Ä–≤–∏—Å `jupyter`

---

## –ß–∞—Å—Ç—å 3: –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker Compose

### –í–∞—Ä–∏–∞–Ω—Ç 1: –¢–µ—Ä–º–∏–Ω–∞–ª PyCharm

```bash
# –û—Ç–∫—Ä–æ–π—Ç–µ Terminal –≤–Ω–∏–∑—É PyCharm
# –í—ã–ø–æ–ª–Ω–∏—Ç–µ:

docker-compose up --build

# –ò–ª–∏ –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ:
docker-compose up --build -d
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å PyCharm

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `docker-compose.yml`
2. –ü–ö–ú ‚Üí `Run 'docker-compose.yml'`
3. –ò–ª–∏ –Ω–∞–π–¥–∏—Ç–µ –≤ –ø—Ä–∞–≤–æ–π –ø–∞–Ω–µ–ª–∏ `Services` ‚Üí `Docker` ‚Üí `docker-compose.yml`

### –ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞:

- **Jupyter Notebook**: http://localhost:8888
- **API**: http://localhost:5000

---

## –ß–∞—Å—Ç—å 4: –†–∞–±–æ—Ç–∞ —Å Jupyter Notebook

### –ó–∞–ø—É—Å–∫ EDA

1. –û—Ç–∫—Ä–æ–π—Ç–µ `notebooks/01_eda.ipynb`
2. –ü–ö–ú ‚Üí `Run Cell` (–∏–ª–∏ Shift+Enter)
3. –í—ã–ø–æ–ª–Ω–∏—Ç–µ —è—á–µ–π–∫–∏ –ø–æ –ø–æ—Ä—è–¥–∫—É

### –ò–ª–∏ —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä:

1. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:8888
2. –ù–∞–π–¥–∏—Ç–µ `notebooks/01_eda.ipynb`
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤—Å–µ —è—á–µ–π–∫–∏: `Cell` ‚Üí `Run All`

---

## –ß–∞—Å—Ç—å 5: –û–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏

### –ß–µ—Ä–µ–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª:

```bash
# –ó–∞–π–¥–∏—Ç–µ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
docker-compose exec jupyter bash

# –ò–ª–∏ –ª–æ–∫–∞–ª—å–Ω–æ (—Å –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã–º venv):
cd src
python model.py
```

### –û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:

```
üìä –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...
üßπ –û—á–∏—Å—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö...
üîß –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤...
üöÄ –û–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏...
üéØ ROC-AUC: 0.65xx
üíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏...
‚úÖ –ì–æ—Ç–æ–≤–æ!
```

---

## –ß–∞—Å—Ç—å 6: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API

### –ó–∞–ø—É—Å–∫ API

```bash
# –ß–µ—Ä–µ–∑ Docker:
docker-compose up api

# –ò–ª–∏ –ª–æ–∫–∞–ª—å–Ω–æ:
cd api
python app.py
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞

```bash
# –í –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:

curl -X POST http://localhost:5000/predict \
  -H "Content-Type: application/json" \
  -d '{
    "utm_source": "google",
    "utm_medium": "cpc",
    "utm_campaign": "campaign_1",
    "device_category": "mobile",
    "device_os": "Android",
    "device_brand": "Samsung",
    "geo_country": "Russia",
    "geo_city": "Moscow"
  }'
```

### –û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç:

```json
{
  "prediction": 1,
  "probability": 0.72,
  "will_convert": true
}
```

---

## –ß–∞—Å—Ç—å 7: –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

### –ü–æ–º–µ—Å—Ç–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –≤ –ø–∞–ø–∫—É `data/`:

```
data/
‚îú‚îÄ‚îÄ ga_sessions.pkl    # –∏–ª–∏ ga_sessions.csv
‚îî‚îÄ‚îÄ ga_hits.pkl        # –∏–ª–∏ ga_hits.csv
```

### –§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö:

**ga_sessions** - –æ–¥–∏–Ω –≤–∏–∑–∏—Ç = –æ–¥–Ω–∞ —Å—Ç—Ä–æ–∫–∞:
- `session_id` - ID –≤–∏–∑–∏—Ç–∞
- `client_id` - ID –ø–æ—Å–µ—Ç–∏—Ç–µ–ª—è
- `visit_date` - –¥–∞—Ç–∞
- `utm_source`, `utm_medium`, `utm_campaign` - –∏—Å—Ç–æ—á–Ω–∏–∫–∏
- `device_category`, `device_os` - —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
- `geo_country`, `geo_city` - –≥–µ–æ–≥—Ä–∞—Ñ–∏—è

**ga_hits** - —Å–æ–±—ã—Ç–∏—è:
- `session_id` - ID –≤–∏–∑–∏—Ç–∞
- `event_action` - –¥–µ–π—Å—Ç–≤–∏–µ
- `hit_date` - –¥–∞—Ç–∞ —Å–æ–±—ã—Ç–∏—è

---

## –ß–∞—Å—Ç—å 8: –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã Docker

```bash
# –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker-compose up --build

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker-compose down

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏
docker-compose logs -f

# –í–æ–π—Ç–∏ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
docker-compose exec jupyter bash

# –û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ
docker-compose down -v
docker system prune -a
```

---

## –ß–∞—Å—Ç—å 9: –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: –ü–æ—Ä—Ç 8888 –∑–∞–Ω—è—Ç

```bash
# –ù–∞–π–¥–∏—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å
netstat -ano | findstr :8888

# –ò–ª–∏ –∏–∑–º–µ–Ω–∏—Ç–µ –ø–æ—Ä—Ç –≤ docker-compose.yml:
ports:
  - "8889:8888"  # –º–µ–Ω—è–µ–º 8888 –Ω–∞ 8889
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ú–æ–¥–µ–ª—å –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –º–æ–¥–µ–ª—å –æ–±—É—á–µ–Ω–∞
ls -la models/

# –î–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ñ–∞–π–ª—ã:
# - model.pkl
# - encoders.pkl
# - feature_cols.pkl
```

### –ü—Ä–æ–±–ª–µ–º–∞: Jupyter –Ω–µ –≤–∏–¥–∏—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

```bash
# –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —è–¥—Ä–æ
pip install ipykernel
python -m ipykernel install --user --name=venv
```

---

## üìä –ü–ª–∞–Ω –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞

### –≠—Ç–∞–ø 1: EDA (–û–±—â–∞—è —á–∞—Å—Ç—å)
- [ ] –ó–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
- [ ] –ü—Ä–æ–≤–µ—Å—Ç–∏ –æ—á–∏—Å—Ç–∫—É (–¥—É–±–ª–∏–∫–∞—Ç—ã, NaN)
- [ ] –í–∏–∑—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è
- [ ] –°–æ–∑–¥–∞—Ç—å —Ü–µ–ª–µ–≤—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é
- [ ] –ö–æ—Ä—Ä–µ–ª—è—Ü–∏–æ–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑

### –≠—Ç–∞–ø 2: ML (–°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è)
- [ ] Feature Engineering
- [ ] –û–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏
- [ ] ROC-AUC ~ 0.65
- [ ] Feature Importance

### –≠—Ç–∞–ø 3: API
- [ ] Flask –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- [ ] Endpoint /predict
- [ ] –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ < 3 —Å–µ–∫

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç —Å–¥–∞—á–∏

- [ ] Jupyter Notebook —Å EDA
- [ ] ROC-AUC >= 0.65
- [ ] API —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ API < 3 —Å–µ–∫
- [ ] Feature importance –æ–±—ä—è—Å–Ω–µ–Ω
