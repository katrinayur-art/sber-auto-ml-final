# –°–±–µ—Ä–ê–≤—Ç–æ–ø–æ–¥–ø–∏—Å–∫–∞ - ML –ü—Ä–æ–µ–∫—Ç

## üìã –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

–ò—Ç–æ–≥–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç –ø–æ –∞–Ω–∞–ª–∏–∑—É –¥–∞–Ω–Ω—ã—Ö —Å–∞–π—Ç–∞ ¬´–°–±–µ—Ä–ê–≤—Ç–æ–ø–æ–¥–ø–∏—Å–∫–∞¬ª. 

**–ó–∞–¥–∞—á–∞:** –ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ —Å–æ–≤–µ—Ä—à–µ–Ω–∏—è —Ü–µ–ª–µ–≤–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º (ROC-AUC ~ 0.65).

**–¶–µ–ª–µ–≤—ã–µ –¥–µ–π—Å—Ç–≤–∏—è:**
- `sub_car_claim_click`
- `sub_car_claim_submit_click`
- `sub_open_dialog_click`
- `sub_custom_question_submit_click`
- `sub_call_number_click`
- `sub_callback_submit_click`
- `sub_submit_success`
- `sub_car_request_submit_click`

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
sber-auto-ml/
‚îú‚îÄ‚îÄ data/                  # –î–∞–Ω–Ω—ã–µ (–Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç—å!)
‚îÇ   ‚îú‚îÄ‚îÄ ga_sessions.csv   # –î–∞–Ω–Ω—ã–µ –æ –≤–∏–∑–∏—Ç–∞—Ö
‚îÇ   ‚îî‚îÄ‚îÄ ga_hits.csv       # –î–∞–Ω–Ω—ã–µ –æ —Å–æ–±—ã—Ç–∏—è—Ö
‚îú‚îÄ‚îÄ notebooks/            # Jupyter notebooks
‚îÇ   ‚îî‚îÄ‚îÄ 01_eda.ipynb      # EDA –∏ –±–∞–∑–æ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
‚îú‚îÄ‚îÄ src/                  # –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥
‚îÇ   ‚îú‚îÄ‚îÄ data_loader.py    # –ó–∞–≥—Ä—É–∑–∫–∞ –∏ –ø—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ features.py       # Feature engineering
‚îÇ   ‚îú‚îÄ‚îÄ model.py          # –û–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏
‚îÇ   ‚îî‚îÄ‚îÄ utils.py          # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
‚îú‚îÄ‚îÄ api/                  # API —Å–µ—Ä–≤–∏—Å
‚îÇ   ‚îú‚îÄ‚îÄ app.py            # Flask –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îî‚îÄ‚îÄ requirements.txt  # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ API
‚îú‚îÄ‚îÄ models/               # –°–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏
‚îú‚îÄ‚îÄ tests/                # –¢–µ—Å—Ç—ã
‚îî‚îÄ‚îÄ requirements.txt      # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (–õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ –≤ PyCharm)

### –®–∞–≥ 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
python -m venv venv

# Windows (PowerShell):
venv\Scripts\Activate.ps1

# Windows (CMD):
venv\Scripts\activate.bat

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install -r requirements.txt
```

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ PyCharm

1. **–û—Ç–∫—Ä—ã—Ç—å –ø—Ä–æ–µ–∫—Ç:** File ‚Üí Open ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ –ø–∞–ø–∫—É `sber-auto-ml`
2. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä:** 
   - File ‚Üí Settings ‚Üí Project ‚Üí Python Interpreter
   - –î–æ–±–∞–≤–∏—Ç—å –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä –∏–∑ `venv` (–µ—Å–ª–∏ –Ω–µ –ø–æ–¥—Ö–≤–∞—Ç–∏–ª—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
3. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Jupyter:** Settings ‚Üí Languages & Frameworks ‚Üí Jupyter ‚Üí –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—É—Ç—å

### –®–∞–≥ 3: –ó–∞–ø—É—Å–∫ Jupyter Notebook

```bash
# –í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ PyCharm:
jupyter notebook notebooks/

# –ò–ª–∏ —á–µ—Ä–µ–∑ PyCharm:
# –ü–ö–ú –Ω–∞ —Ñ–∞–π–ª–µ 01_eda.ipynb ‚Üí Open in ‚Üí Browser
```

### –®–∞–≥ 4: –ó–∞–ø—É—Å–∫ API

```bash
# –ß–µ—Ä–µ–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª:
cd api
python app.py

# –ò–ª–∏ —á–µ—Ä–µ–∑ PyCharm:
# –ü–ö–ú –Ω–∞ app.py ‚Üí Run
```

## üìä –≠—Ç–∞–ø—ã —Ä–∞–±–æ—Ç—ã

### –ß–∞—Å—Ç—å 1: EDA (–û–±—â–∞—è —á–∞—Å—Ç—å)

–ó–∞–ø—É—Å—Ç–∏—Ç–µ `notebooks/01_eda.ipynb`:

1. **–ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç–µ–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞:**
   - –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
   - –û—Ü–µ–Ω–∫–∞ –ø–æ–ª–Ω–æ—Ç—ã –∏ —á–∏—Å—Ç–æ—Ç—ã
   - –û–ø–∏—Å–∞–Ω–∏–µ –∞—Ç—Ä–∏–±—É—Ç–æ–≤

2. **–ë–∞–∑–æ–≤–∞—è –æ—á–∏—Å—Ç–∫–∞:**
   - –£–¥–∞–ª–µ–Ω–∏–µ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ NaN
   - –¢–∏–ø–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
   - –£–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–Ω—É–∂–Ω—ã—Ö –∞—Ç—Ä–∏–±—É—Ç–æ–≤

3. **–†–∞–∑–≤–µ–¥–æ—á–Ω—ã–π –∞–Ω–∞–ª–∏–∑:**
   - –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∫–ª—é—á–µ–≤—ã—Ö –∞—Ç—Ä–∏–±—É—Ç–æ–≤
   - –ö–æ—Ä—Ä–µ–ª—è—Ü–∏–æ–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑
   - –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏

### –ß–∞—Å—Ç—å 2: ML (–°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è)

1. **Feature Engineering:**
   - –°–æ–∑–¥–∞–Ω–∏–µ —Ü–µ–ª–µ–≤–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π
   - –ö–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∞–ª—å–Ω—ã—Ö –ø—Ä–∏–∑–Ω–∞–∫–æ–≤
   - –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ñ–∏—á–µ–π

2. **–û–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏:**
   - –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ train/test
   - –û–±—É—á–µ–Ω–∏–µ (RandomForest, XGBoost, CatBoost)
   - –û—Ü–µ–Ω–∫–∞ ROC-AUC

3. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏:**
   - –ú–æ–¥–µ–ª—å —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ `models/`

### –ß–∞—Å—Ç—å 3: API

API –ø—Ä–∏–Ω–∏–º–∞–µ—Ç JSON —Å –∞—Ç—Ä–∏–±—É—Ç–∞–º–∏ –≤–∏–∑–∏—Ç–∞ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ 0/1.

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**
```bash
curl -X POST http://localhost:5000/predict \
  -H "Content-Type: application/json" \
  -d '{
    "utm_source": "google",
    "utm_medium": "cpc",
    "utm_campaign": "campaign_1",
    "device_category": "mobile",
    "device_os": "Android",
    "device_brand": "Samsung",
    "geo_country": "Russia",
    "geo_city": "Moscow"
  }'
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "prediction": 1,
  "probability": 0.72
}
```

## üìà –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

- **ROC-AUC –Ω–∞ —Ç–µ—Å—Ç–æ–≤–æ–π –≤—ã–±–æ—Ä–∫–µ:** ~0.65
- **–í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ API:** < 3 —Å–µ–∫—É–Ω–¥
- **Feature importance:** –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É–µ–º—ã–µ —Ñ–∏—á–∏

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –î–∞–Ω–Ω—ã–µ (`.csv` —Ñ–∞–π–ª—ã) –Ω–µ –≤–∫–ª—é—á–µ–Ω—ã –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
- –ú–æ–¥–µ–ª—å –æ–±—É—á–∞–µ—Ç—Å—è –Ω–∞ –æ–±—ä–µ–¥–∏–Ω—ë–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö GA Sessions + GA Hits
- –¶–µ–ª–µ–≤–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è: –Ω–∞–ª–∏—á–∏–µ —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ–≥–æ —Ü–µ–ª–µ–≤–æ–≥–æ —Å–æ–±—ã—Ç–∏—è –≤ –≤–∏–∑–∏—Ç–µ
